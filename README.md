# ☁️ Online kurzy Oracle DB a PL/SQL
Materiály k online kurzom Oracle databázy a PL/SQL s (Oracle Database Express Edition)

### 01 [🎯 Zoznam základných Oracle SQL príkazov s vysvetleniami](#zoznam-zakladnych-oracle-prikazov)
### 02 [🔐 Zoznam DBA príkazov Oracle - Používatelia a Práva](#zoznam-dba-prikazov-pouzivatelia)
### 03 [📥 Inštalácia Oracle DB XE a SQL Developer](#instalacia-oracle)
### 04 [❗ Overenie a riešenie problémov s inštaláciou Oracle DB XE](#overenie-instalacie)
### 05 [🖥️ Postup testovania a pripojenia na lokálnu databázu](#oracle-pripojenie-db)
### 06 [🗂 Databázy a Schémy](#oracle-databazy-schemy)
### 07 [🧱 Oracle databázové objekty](#oracle-objekty)
### 08 [💾 Zálohovanie a Dumpy Databázy](#oracle-zaloha-dump)
### 09 [🧪 Testovacie databázy a Playgroundy](#oracle-test-db-playgroundy)
### 10 [📚 Zdroje a Knihy k Oracle databázam](#oracle-zdroje-knihy)

<a name="zoznam-zakladnych-oracle-prikazov"></a>
## 🎯 Zoznam základných Oracle príkazov s vysvetleniami

**1. 🏗️ CREATE TABLE** – Vytvorenie tabuľky

```sql
CREATE TABLE student (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    meno VARCHAR2(100),
    vek NUMBER
);
```

Tento príkaz vytvorí tabuľku `student` so stĺpcami `id`, `meno` a `vek`.

---

**2. ✏️ INSERT INTO** – Vloženie dát

```sql
INSERT INTO student (meno, vek) VALUES ('Anna', 21);
```

Tento príkaz vloží nový záznam do tabuľky `student` s menom `Anna` a vekom `21`.

---

**3. 🔍 SELECT** – Výber údajov

```sql
SELECT * FROM student;
```

Tento príkaz zobrazí všetky údaje z tabuľky `student`.

---

**4. ✒️ UPDATE** – Aktualizácia údajov

```sql
UPDATE student SET vek = 22 WHERE meno = 'Anna';
```

Tento príkaz aktualizuje vek študentky s menom `Anna` na hodnotu `22`.

---

**5. ❌ DELETE** – Odstránenie údajov

```sql
DELETE FROM student WHERE meno = 'Anna';
```

Tento príkaz odstráni riadok z tabuľky `student`, kde meno je `Anna`.

---

**6. 🧮 Agregačné funkcie** – SUM, AVG, COUNT, MIN, MAX

```sql
SELECT COUNT(*) FROM student;
```

Tento príkaz spočíta počet riadkov v tabuľke `student`.

---

**7. 📊 GROUP BY a HAVING**

```sql
SELECT vek, COUNT(*) FROM student GROUP BY vek HAVING COUNT(*) > 1;
```

Tento príkaz zoskupí študentov podľa veku a zobrazí len tie skupiny, ktoré sa vyskytujú viac ako raz.

---

**8. 🔗 JOIN**

```sql
SELECT s.meno, k.nazov 
FROM student s 
JOIN kurz k ON s.kurz_id = k.id;
```

Tento príkaz spojí tabuľky `student` a `kurz` na základe `kurz_id` a zobrazí zodpovedajúce údaje.

---

<a name="zoznam-dba-prikazov-pouzivatelia"></a>
## 🔐 Zoznam DBA príkazov Oracle – Používatelia a Práva

**1. 👤 CREATE USER**

```sql
CREATE USER test_user IDENTIFIED BY silneheslo;
```

Tento príkaz vytvorí nového používateľa `test_user` s heslom `silneheslo`.

---

**2. 🔑 GRANT PRIVILEGES**

```sql
GRANT CONNECT, RESOURCE TO test_user;
```

Tento príkaz pridelí používateľovi `test_user` základné oprávnenia na pripojenie a prácu s databázou.

---

**3. 🚫 REVOKE PRIVILEGES**

```sql
REVOKE RESOURCE FROM test_user;
```

Tento príkaz odoberie právo `RESOURCE` používateľovi `test_user`.

---

**4. 🧾 CREATE ROLE a GRANT**

```sql
CREATE ROLE analytik;
GRANT SELECT ON student TO analytik;
GRANT analytik TO test_user;
```

Tento príkaz vytvorí rolu `analytik`, pridelí jej práva na tabuľku `student` a priradí rolu používateľovi `test_user`.

---

**5. 🗑️ DROP USER**

```sql
DROP USER test_user CASCADE;
```

Tento príkaz natrvalo odstráni používateľa `test_user` a všetky jeho objekty.

---

<a name="instalacia-oracle"></a>
## 📥 Inštalácia Oracle XE a SQL Developer

### 🧾 Verzie a licencie

- **Oracle Database Express Edition (XE)** – bezplatná verzia databázy, obmedzená na 2 CPU, 2 GB RAM a 12 GB dát.
- **Licencia:** Oracle XE je vhodná pre výučbu, vývoj a malé aplikácie. Je dostupná bezplatne bez potreby registrácie.
- Oracle Database XE je ideálnym nástrojom na výučbu SQL a testovanie aplikácií – zdarma, legálne a ľahko nasaditeľná.

**1. Stiahnutie Oracle XE:**

- [Oracle Database XE Download](https://www.oracle.com/database/technologies/xe-downloads.html)
- [Free Oracle Database for Everyone](https://www.oracle.com/database/technologies/appdev/xe.html)

**2. Inštalácia SQL Developer:**

- [SQL Developer Download](https://www.oracle.com/tools/downloads/sqldev-downloads.html)

**3. Pripojenie k databáze:**

- **Hostname:** `localhost`
- **Port:** `1521`
- **SID/Service name:** `XEPDB1` (pluggable databáza) alebo `xe`
- **Username:** `system` alebo vlastný používateľ
- **Password:** heslo zvolené pri inštalácii

### 💻 Inštalácia na **Windows**

1. **Stiahnutie inštalátora**
   - Navštívte [Oracle XE Downloads](https://www.oracle.com/database/technologies/xe-downloads.html)
   - Stiahnite: *Oracle Database 21c Express Edition for Windows x64*

2. **Inštalácia databázy**
   - Spustite inštalátor ako administrátor
   - Potvrďte licenčné podmienky
   - Zadajte heslo pre používateľa `SYS`, `SYSTEM`
   - Počkajte na dokončenie inštalácie
  
![2025-05-19 21_22_35-Oracle Database 21c Express Edition](https://github.com/user-attachments/assets/e41a243a-7328-475d-92e3-3e3c1ca85819)
![2025-05-19 21_23_05-Oracle Database 21c Express Edition](https://github.com/user-attachments/assets/c65b3dbd-f217-4df6-be27-f98f4b9abeb7)
![2025-05-19 21_23_19-Oracle Database 21c Express Edition](https://github.com/user-attachments/assets/69a969b2-cc8f-49f1-86cf-386509684646)
![2025-05-19 22_31_42-Oracle Database 21c Express Edition](https://github.com/user-attachments/assets/1836c3bd-6e2e-47fa-a209-9da60b403cc7)

3. **Overenie inštalácie**
   - Otvorte „Start“ → „Run SQL Command Line“
   - Prihláste sa ako SYSTEM:
     ```sql
     CONNECT system
     ```
   - Skúste jednoduchý dopyt:
     ```sql
     SELECT 'OK' FROM dual;
     ```

4. **Inštalácia SQL Developer**
   - Stiahnite z [SQL Developer Download](https://www.oracle.com/tools/downloads/sqldev-downloads.html)
   - Rozbaľte ZIP súbor a spustite `sqldeveloper.exe`
   - Prihláste sa pomocou:
     - Username: `system`
     - Password: `vaše heslo`
     - Hostname: `localhost`
     - Port: `1521`
     - Service Name: `XEPDB1`
    
     ![2025-05-19 22_33_55-Oracle SQL Developer _ Welcome Page](https://github.com/user-attachments/assets/00d0820c-e809-4f16-8e6f-59c2a2b532bd)

**📁 Destination Folder** `C:\app\miros\product\21c\`  
➡️ Toto je hlavný cieľový adresár, kam sa nainštaluje celý Oracle produkt. Obsahuje všetky súbory databázy, inštalačné skripty, knižnice a pomocné nástroje.

**📁 Oracle Home** `C:\app\miros\product\21c\dbhomeXE\`
➡️ "Oracle Home" predstavuje koreňový adresár pre túto konkrétnu inštanciu databázy. Obsahuje binárky, konfiguračné súbory, skripty, SQL*Plus, listener, služby databázy atď.
➡️ Každá inštancia databázy má svoj vlastný Oracle Home.

**📁 Oracle Base** `C:\app\miros\product\21c\`  
➡️ "Oracle Base" je nadradený adresár pre všetky Oracle produkty. Zvyčajne v ňom bývajú:
- Logy (napr. diag/)
- Nastavenia všetkých databáz
- Spoločné komponenty zdieľané medzi viacerými Oracle Home

---

### 🐧 Inštalácia na **Linux / Ubuntu**

1. **Stiahnutie balíka**
   - Navštívte [Oracle XE Downloads](https://www.oracle.com/database/technologies/xe-downloads.html)
   - Stiahnite: *Oracle Database 21c Express Edition for Linux x64 (RPM)*

2. **Konverzia RPM na DEB**
   - Inštalujte potrebné nástroje:
     ```bash
     sudo apt update
     sudo apt install alien libaio1
     ```
   - Konvertujte balík:
     ```bash
     sudo alien -d oracle-database-xe-21c-1.0-1.x86_64.rpm
     ```

3. **Inštalácia Oracle XE**
   - Spustite inštaláciu:
     ```bash
     sudo dpkg -i oracle-database-xe-21c_1.0-2_amd64.deb
     ```

4. **Inicializácia databázy**
   - Spustite konfiguračný skript:
     ```bash
     sudo /etc/init.d/oracle-xe-21c configure
     ```
   - Zadajte požadované porty a heslo pre SYS/SYSTEM

5. **Inštalácia SQL Developer (voliteľne)**
   - Stiahnite a rozbaľte ZIP balík z [oficiálnej stránky](https://www.oracle.com/tools/downloads/sqldev-downloads.html)
   - Spustite:
     ```bash
     ./sqldeveloper/sqldeveloper.sh
     ```

---
<a name="overenie-instalacie"></a>
## ❗ Overenie a riešenie problémov s inštaláciou Oracle DB XE

Ak sa počas inštalácie objaví hlásenie:

> **"The wizard was interrupted before Oracle Database 21c Express Edition could be completely installed."**

znamená to, že **inštalácia zlyhala** a databáza **nebola nainštalovaná**.

![2025-05-19 21_28_01-Oracle Database 21c Express Edition](https://github.com/user-attachments/assets/2adfee44-3d05-48c9-aac3-a3fc2e24a989)

![2025-05-19 22_19_07-Facebook – Opera](https://github.com/user-attachments/assets/12160e2e-bd3c-4c38-bd5e-1275132553ec)

---

### ✅ Ako zistiť, či je Oracle DB XE nainštalovaná

**1. Skontrolovať služby vo Windows**
- Otvorte `services.msc`
- Skontrolujte, či existujú služby:
  - `OracleXETNSListener`
  - `OracleServiceXE`
- Ak chýbajú, databáza sa nenainštalovala

**2. Skontrolovať priečinok inštalácie**
- Skontrolujte adresár:
  ```
  C:\app\miros\product\21c\dbhomeXE
  ```
- Skontrolujte, či existujú súbory ako:
  - `bin\sqlplus.exe`
  - `network\admin\listener.ora`

**3. Spustiť SQL Command Line**
```cmd
sqlplus /nolog
```
- Ak príkaz nefunguje, inštalácia neprebehla alebo nie je v PATH

---

### 🛠 Odstránenie zvyškov po neúspešnej inštalácii

1. Vymaž tieto priečinky (ak existujú):
   - `C:\app\miros`
   - `C:\Program Files\Oracle`
   - `C:\ProgramData\Oracle`

2. Spusti `regedit` a vymaž (opatrne):
   - `HKEY_LOCAL_MACHINE\SOFTWARE\ORACLE`
   - `HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Oracle...`

3. Reštartuj počítač

---

### 🔁 Spustenie inštalácie znova

- Spusť inštalátor ako **správca**
- Vyber jednoduchú cestu, napr.:
  ```
  C:\oracle\product\21c\
  ```
- Uisti sa, že:
  - nemáš spustený antivírus
  - máš aspoň 10 GB voľného miesta
  - systém má nainštalovaný .NET a Visual C++ Redistributable

---

### 🧪 Odporúčaný overovací test po inštalácii

```sql
CONNECT system
SELECT 'Oracle funguje!' AS status FROM dual;
```

Tento príkaz potvrdí úspešnú inštaláciu a funkčnosť SQL*Plus alebo SQL Developer.
---

<a name="oracle-pripojenie-db"></a>   
## 🖥️ Postup testovania a pripojenia na lokálnu databázu

Nasledujúca tabuľka obsahuje hodnoty, ktoré je potrebné vyplniť pri vytváraní spojenia v Oracle SQL Developer:

| Pole                    | Hodnota                                          |
|-------------------------|--------------------------------------------------|
| **Name**                | `lokalne_oracle_xe` *(ľubovoľný názov spojenia)* |
| **Database Type**       | `Oracle`                                         |
| **Authentication Type** | `Default`                                        |
| **Username**            | `system` *(alebo iný vytvorený používateľ)*      |
| **Password**            | *Heslo zadané počas inštalácie*                  |
| **Role**                | `default`                                        |
| **Connection Type**     | `Basic`                                          |
| **Hostname**            | `localhost`                                      |
| **Port**                | `1521`                                           |
| **SID**                 | `xe` *(v prípade Oracle XE, vždy "xe")*          |
| **Service name**        | *(nevyplňujte – nechajte "SID" zvolené)*         |

---

### 🧪 Krok za krokom postup pre pripojenie lokálne databázy

1. Otvorte SQL Developer a zvoľte **File > New Connection**.
2. Vyplňte všetky polia podľa tabuľky vyššie.
3. Kliknite na tlačidlo **Test**:
   - ✅ Ak je všetko v poriadku, zobrazí sa zelený stav: `Success`
   - ❌ Ak nie, zobrazí sa chybové hlásenie (napr. nesprávne heslo alebo SID)
4. Po úspešnom teste kliknite na **Connect**

![2025-05-19 22_37_49-New _ Select Database Connection](https://github.com/user-attachments/assets/37bc270a-193f-42bf-96c9-13db40bf4970)

---

## 🔌 Používanie Oracle DB cez Visual Studio Code

Ak používate **Visual Studio Code**, môžete nainštalovať rozšírenie Oracle SQL Developer Extension:

🔗 [**Oracle SQL Developer Extension for VS Code**](https://marketplace.visualstudio.com/items?itemName=Oracle.sql-developer)

### Postup:

1. Otvorte **Visual Studio Code**
2. Prejdite na **Extensions (Ctrl+Shift+X)** a vyhľadajte `Oracle SQL Developer`
3. Kliknite na **Install**
4. V ľavom bočnom paneli kliknite na **Oracle Explorer**
5. Vytvorte nové spojenie:
   - Host: `localhost`
   - Port: `1521`
   - Service name: `XEPDB1` *(alebo `xe` podľa inštalácie)*
   - Username: `system`
   - Password: *vaše heslo*
6. Kliknite na **Connect**

![visual-studio](https://github.com/user-attachments/assets/5f62ae1f-e15c-4a4a-817c-d6d3dbf7e964)

Týmto spôsobom môžete používať Oracle databázu priamo z prostredia VS Code.

## 🦫 Používanie Oracle DB cez Dbeaver

[**DBeaver**](https://dbeaver.io/download/) je **univerzálny databázový nástroj**, ktorý umožňuje pohodlné pripojenie k Oracle DB.

---

### 🔌 Krok 1: Pridanie Oracle spojenia

1. Kliknite na **New Database Connection** v ľavom navigačnom paneli.
2. Vyberte databázový typ: **Oracle**
3. Ak chýbajú ovládače (drivers), kliknite na **Download**.
4. Po nainštalovaní potrebných súborov sa otvorí dialógové okno na pripojenie.

![2025-05-20 09_57_00-NVIDIA GeForce Overlay](https://github.com/user-attachments/assets/103e1172-6d0e-49a5-bb0b-8906f85c3a2f)

---

### ⚙️ Krok 2: Nastavenie spojenia

| Pole         | Hodnota                |
|--------------|------------------------|
| **Host**     | `localhost`            |
| **Port**     | `1521`                 |
| **Database** | `xe` *(alebo `ORCL`)*  |
| **Authentication** | `Oracle Database Native` |
| **Username** | `system`               |
| **Password** | *Vaše heslo*           |
| **Client**   | napr. `OraDB21Home1`   |

➡️ Zvoľte `SID` a zadajte `xe` alebo použite `Service Name` podľa nastavenia.

---

### 🧪 Krok 3: Otestovanie spojenia

- Kliknite na tlačidlo **Test Connection**.
- Ak je spojenie úspešné, zobrazí sa okno s potvrdením:

```
Connected (506 ms)
Server: Oracle Database 21c Express Edition
Driver: Oracle JDBC driver 23.2.0.0

![2025-05-20 09_57_33-NVIDIA GeForce Overlay](https://github.com/user-attachments/assets/0ca390b3-4287-42d1-b12a-ee8254705345)

```

✅ Kliknite na **Finish**.

---

### 🧭 Krok 4: Práca s údajmi

- V navigačnom paneli vidíte všetky objekty (tabuľky, schémy, procedúry…).
- Kliknite na tabuľku → **Data** → zobrazia sa dáta.
- Môžete vykonávať SQL dopyty v **SQL Editor**i.

---

🧠 DBeaver podporuje export, vizualizácie, ER diagramy a podporuje aj ďalšie databázy ako PostgreSQL, MySQL, SQLite atď.

---


<a name="oracle-databazy-schemy"></a>
## 🗂️ Databázy a Schémy v Oracle

Oracle výrazne **rozlišuje pojem databáza a schéma** – na rozdiel od iných relačných databáz ako PostgreSQL alebo MySQL.

---

### 🧠 Pojmy v Oracle

| Pojem       | Význam v Oracle                                                                |
|-------------|---------------------------------------------------------------------------------|
| **Databáza** | Fyzický súbor dát – jedna databáza na jednu inštanciu.                         |
| **Schéma**   | Logický kontajner objektov – tabuľky, pohľady, procedúry. Každý používateľ = jedna schéma. |

➡️ V Oracle má každá schéma **presne jedného vlastníka = používateľa**  
➡️ **Neexistuje viacero databáz** v jednej inštancii ako v PostgreSQL

---

### 🧪 Ako zistiť aktuálnu schému a databázu

#### 🔎 Aktuálna schéma (aktuálny používateľ):

```sql
SELECT SYS_CONTEXT('USERENV', 'CURRENT_SCHEMA') AS aktualna_schema FROM dual;
```

alebo jednoduchšie:

```sql
SELECT USER AS prihlaseny_pouzivatel FROM dual;
```

➡️ Obe metódy vrátia meno aktuálne aktívneho používateľa = schémy.

---

#### 🛢 Aktuálna databáza:

```sql
SELECT name AS databaza FROM v$database;
```

➡️ Táto databáza je **fyzická a jediná** – napr. `XE`, `ORCL`.

---

### ✅ Príklad výstupu

```sql
-- Schéma:
USER
-----
SYSTEM

-- Databáza:
DATABAZA
--------
XE
```

---

### 🧩 Zhrnutie

- Oracle má **jednu databázu na inštanciu**
- Databáza obsahuje **viaceré schémy (používateľov)**
- Prihlásením sa ako `HR`, `SYSTEM`, `SCOTT` atď. používate ich schémy
- Pre prístup do inej schémy používajte syntax `SCHÉMA.OBJEKT`

---

### 📚 Prehľad systémových tabuliek a pohľadov

| Pohľad / tabuľka      | Popis                                                                |
|------------------------|----------------------------------------------------------------------|
| `ALL_USERS`            | Zoznam všetkých používateľov (schém) v databáze                     |
| `DBA_USERS`            | Detailný zoznam používateľov – vyžaduje oprávnenia DBA              |
| `USER_TABLES`          | Všetky tabuľky aktuálnej schémy                                     |
| `ALL_TABLES`           | Tabuľky, ku ktorým má používateľ prístup (aj iných schém)           |
| `DBA_TABLES`           | Všetky tabuľky v celej databáze – len pre DBA                       |
| `V$DATABASE`           | Základné informácie o databáze (názov, verzia, ID)                  |
| `V$INSTANCE`           | Informácie o inštancii Oracle (host, startup time, status, atď.)    |
| `USER_OBJECTS`         | Všetky objekty (tabuľky, pohľady, funkcie...) v aktuálnej schéme    |
| `USER_SYNONYMS`        | Zoznam aliasov na objekty v rámci schémy                            |
| `USER_SOURCE`          | Kódy PL/SQL objektov (procedúry, funkcie)                           |

➡️ Tieto pohľady sú užitočné pre vývojárov, administrátorov aj pri optimalizáciách.

---

## 🔍 Ďalšie praktické príklady príkazov pre prácu so schémou a databázou

### 📄 Zoznam všetkých schém (používateľov)

```sql
SELECT username FROM all_users ORDER BY username;
```

➡️ Vráti všetkých používateľov, ktorí vlastnia schému v databáze.

---

### 📄 Zoznam všetkých tabuliek v aktuálnej schéme

```sql
SELECT table_name FROM user_tables ORDER BY table_name;
```

➡️ Vráti len tabuľky, ktoré vlastní prihlásený používateľ.

---

### 📄 Zoznam všetkých tabuliek dostupných používateľovi

```sql
SELECT owner, table_name FROM all_tables ORDER BY owner, table_name;
```

➡️ Vráti tabuľky z vlastnej schémy aj cudzie, ak má používateľ oprávnenie ich čítať.

---

### 🧾 Zoznam všetkých objektov v aktuálnej schéme

```sql
SELECT object_type, object_name FROM user_objects ORDER BY object_type, object_name;
```

➡️ Zoznam všetkých objektov – tabuľky, pohľady, procedúry, funkcie atď.

---

### 🧑‍💼 Zobrazenie aktuálne prihláseného používateľa a databázy

```sql
SELECT USER AS "Používateľ", SYS_CONTEXT('USERENV', 'DB_NAME') AS "Databáza" FROM dual;
```

➡️ Zobrazí meno používateľa a databázy v jednej tabuľke.

---

### 🧠 Zoznam uložených funkcií v schéme

```sql
SELECT object_name FROM user_objects WHERE object_type = 'FUNCTION';
```

➡️ Vráti len funkcie definované používateľom v jeho schéme.

---

### 📊 Počet objektov podľa typu

```sql
SELECT object_type, COUNT(*) AS pocet
FROM user_objects
GROUP BY object_type
ORDER BY pocet DESC;
```

➡️ Vráti počet tabuliek, pohľadov, procedúr, atď. v aktuálnej schéme.

---

### 🧾 Zoznam všetkých indexov

```sql
SELECT index_name, table_name FROM user_indexes ORDER BY table_name;
```

➡️ Zobrazí všetky indexy, ktoré vlastní používateľ.

---

### 🔐 Zoznam udelených práv pre aktuálneho používateľa

```sql
SELECT * FROM user_tab_privs_made;
```

➡️ Zobrazí, aké práva boli udelené z aktuálnej schémy iným používateľom.

---

### 🗝️ Zoznam synonym v aktuálnej schéme

```sql
SELECT synonym_name, table_owner, table_name FROM user_synonyms;
```

➡️ Zobrazí aliasy na objekty v iných schémach.

---

<a name="oracle-objekty"></a>
## 🧱 Oracle databázové objekty

Prehľad základných databázových objektov v Oracle:

**1. 📋 Tabuľka (TABLE)** – Ukladá štruktúrované údaje v riadkoch a stĺpcoch.

```sql
CREATE TABLE zamestnanci (
    id NUMBER PRIMARY KEY,
    meno VARCHAR2(100),
    pozicia VARCHAR2(50)
);
```

---

**2. 👁️‍🗨️ Pohľad (VIEW)** – Virtuálna tabuľka vytvorená z výsledku SELECT dopytu.

```sql
CREATE VIEW aktivni_zamestnanci AS
SELECT * FROM zamestnanci WHERE pozicia IS NOT NULL;
```

---

**3. 🧠 Funkcia (FUNCTION)** – Uložená procedúra, ktorá vracia hodnotu.

```sql
CREATE OR REPLACE FUNCTION vrat_bonus(p_plat NUMBER) RETURN NUMBER IS
BEGIN
    RETURN p_plat * 0.10;
END;
```

---

**4. 🔁 Procedúra (PROCEDURE)** – Uložená procedúra, ktorá nemusí vracať hodnotu.

```sql
CREATE OR REPLACE PROCEDURE zvys_plat(p_id NUMBER, p_bonus NUMBER) IS
BEGIN
    UPDATE zamestnanci SET plat = plat + p_bonus WHERE id = p_id;
END;
```

---

**5. 📦 Balík (PACKAGE)** – Kolekcia príbuzných procedúr a funkcií.

```sql
CREATE OR REPLACE PACKAGE mzdy_pkg AS
  PROCEDURE vypocitaj_odmenu(p_id NUMBER);
  FUNCTION vrat_priplatok(p_vek NUMBER) RETURN NUMBER;
END mzdy_pkg;
```

---

**6. 🛠️ Trigger (TRIGGER)** – Automatická reakcia na udalosť v databáze.

```sql
CREATE OR REPLACE TRIGGER kontrola_platu
BEFORE INSERT OR UPDATE ON zamestnanci
FOR EACH ROW
BEGIN
    IF :NEW.plat < 800 THEN
        RAISE_APPLICATION_ERROR(-20001, 'Plat je príliš nízky.');
    END IF;
END;
```

---

**7. 📚 Sekvencia (SEQUENCE)** – Generuje číselné hodnoty, často pre ID.

```sql
CREATE SEQUENCE seq_zamestnanci START WITH 1 INCREMENT BY 1;
```

---

**8. 🗂️ Index (INDEX)** – Zrýchľuje vyhľadávanie v tabuľke.

```sql
CREATE INDEX idx_meno ON zamestnanci(meno);
```

---

**9. 🔐 Synonymum (SYNONYM)** – Alias na databázový objekt (napr. tabuľku).

```sql
CREATE SYNONYM zam FOR zamestnanci;
```

---

**10. 🧱 Typ (TYPE)** – Definuje vlastnú dátovú štruktúru.

```sql
CREATE OR REPLACE TYPE typ_adresa AS OBJECT (
  ulica VARCHAR2(50),
  mesto VARCHAR2(50),
  psc NUMBER
);
```

---

**11. 🗃️ Materializovaný pohľad (MATERIALIZED VIEW)** – Fyzicky uložený výsledok dopytu.

```sql
CREATE MATERIALIZED VIEW mzda_mv AS
SELECT id, meno, plat FROM zamestnanci;
```

<a name="oracle-zaloha-dump"></a>
## 💾 Zálohovanie a Dumpy Databázy
Pre export databázy v Oracle existujú viaceré formáty, ktoré závisia od použitého nástroja:

---

### 📦 1. Exp/Imp (klasická utilita)

- **Typ:** starší nástroj (stále podporovaný)
- **Prípona dump súboru:** `.dmp`
- **Príklad súboru:** `backup_full.dmp`
- **Súvisiace súbory:**
  - `.log` – log exportu/importu
  - `.dmp` – samotný dump

---

### 🛠 2. Data Pump Export/Import (expdp / impdp)

- **Typ:** moderný a odporúčaný (od Oracle 10g+)
- **Prípona dump súboru:** `.dmp`
- **Príklad súboru:** `expdp_schemas_2024.dmp`
- **Viacero súborov:** `dump1.dmp`, `dump2.dmp`, ...

---

### 📄 3. SQL skripty (alternatíva)

- **Prípona:** `.sql`
- **Obsah:** `CREATE TABLE`, `INSERT INTO`, atď.
- **Vhodné:** na migráciu bez binárneho dumpu

---

### ✅ Zhrnutie

| Nástroj         | Prípona súboru | Formát   |
|-----------------|----------------|----------|
| `exp/imp`       | `.dmp`         | Binárny  |
| `expdp/impdp`   | `.dmp`         | Binárny  |
| SQL skripty     | `.sql`         | Textový  |

---

## 🧰 Požiadavky pred exportom cez SQL Developer

- Prihlásiť sa ako `SYS` alebo používateľ s oprávnením `DATAPUMP_EXP_FULL_DATABASE`
- Vytvoriť **DIRECTORY objekt** v databáze
- Uistiť sa, že SQL Developer beží na tom istom PC ako DB server (pre lokálne uloženie)

---

## 🪛 Krok 1: Vytvorenie DIRECTORY objektu

```sql
CREATE OR REPLACE DIRECTORY dump_dir AS 'C:\oracle\export';
GRANT READ, WRITE ON DIRECTORY dump_dir TO system;
```

➡️ Zmeňte cestu podľa potreby – adresár musí existovať na disku!

---

## 🧱 Krok 2: Export cez SQL Developer (graficky)

1. Otvorte SQL Developer  
2. Kliknite na: **Tools > Database Export**
3. Vyplňte:
   - **Connection:** napr. `system@xe`
   - **Export type:** `Data Pump`
   - **Export DDL and Data:** zapnuté
   - **Directory:** vyberte `DUMP_DIR`
   - **Schemas to export:** napr. `SYSTEM`
   - **File name:** `backup2025.dmp`
   - **Log file:** `backup2025.log`
4. Kliknite na **Next**, potom na **Finish**

---

## 💾 Krok 3: Stiahnutie dump súboru

- Dump sa uloží na server (napr. `C:\oracle\export\backup2025.dmp`)
- Pri lokálnej inštalácii ho nájdete priamo na disku
- Pri vzdialenej inštancii použite napr. SCP/FTP pre stiahnutie

---

## 🧪 Overenie stavu exportu

```sql
SELECT * FROM dba_datapump_jobs;
```

➡️ Zobrazí aktívne a minulé exporty/importy.

---

## 📝 Alternatíva: Export ako `.sql`

- V SQL Developer:
  - **Pravým klikom na schému > Export > Format: SQL file**
- Vytvorí `.sql` skript s `CREATE TABLE`, `INSERT INTO`, atď.

---

<a name="oracle-test-db-playgroundy"></a>
## 🧪 Testovacie databázy a Playgroundy

Pre testovanie SQL a PL/SQL bez inštalácie Oracle DB existuje viacero kvalitných online nástrojov a sandboxov.

---

### 🔹 1. Oracle Live SQL

- **Oficiálny nástroj od Oracle** na testovanie SQL a PL/SQL.
- **Funkcie:** Vytváranie a spúšťanie skriptov, zdieľanie, preddefinované schémy ako `HR` a `SH`.
- **Výhody:** Nevyžaduje inštaláciu. Prístup k Oracle DB 19c a 23ai.
- 🌐 [livesql.oracle.com](https://livesql.oracle.com)

---

### 🔹 2. OneCompiler – Oracle SQL

- **Online editor a kompilátor** pre Oracle SQL.
- **Funkcie:** Podporuje Oracle 23c, vytváranie tabuliek, vkladanie údajov, dotazy.
- **Výhody:** Jednoduché a rýchle testovanie SQL príkazov.
- 🌐 [onecompiler.com/oracle](https://onecompiler.com/oracle)

---

### 🔹 3. SQLize.online – Oracle 21c Playground

- **Online prostredie** na spúšťanie Oracle SQL dotazov.
- **Funkcie:** Podpora Oracle 21c, možnosť zdieľania SQL skriptov.
- **Výhody:** Rýchle učenie sa a testovanie syntaxe.
- 🌐 [sqlize.online/sql/oracle21](https://sqlize.online/sql/oracle21)

---

### 🔹 4. Oracle Playground – OracleTutorial.com

- **Interaktívne prostredie** pre precvičovanie Oracle SQL príkazov.
- **Funkcie:** Nevyžaduje inštaláciu.
- **Výhody:** Vhodné pre začiatočníkov.
- 🌐 [oracletutorial.com/playground](https://www.oracletutorial.com/playground)

---

## ☁️ Oracle Cloud Free Tier

- **Bezplatný prístup** k Oracle Cloud Infrastructure (OCI).
- **Funkcie:**
  - Always Free: 2 autonómne databázy, 2 výpočtové inštancie, blokové úložisko atď.
  - $300 kredit na 30 dní pre rozšírené služby.
- **Výhody:** Plnohodnotné Oracle prostredie dostupné cez SQL Developer, VS Code a ďalšie nástroje.
- 🌐 [oracle.com/cloud/free](https://www.oracle.com/cloud/free)

---

## 🧰 Ďalšie nástroje

### 🔹 ExtendsClass – Oracle Online Compiler

- **Sandbox** pre testovanie SQL príkazov.
- **Obmedzenia:** Dáta nie sú perzistentné, nemožno vytvárať schémy.
- **Výhody:** Okamžité testovanie jednoduchých dotazov.
- 🌐 [extendsclass.com/oracle-online.html](https://extendsclass.com/oracle-online.html)

---

### 🔹 SQL Fiddle – Oracle PLSQL Compiler

- **Online nástroj** pre testovanie PL/SQL.
- **Funkcie:** Vytváranie schém, spúšťanie dotazov, zdieľanie.
- **Výhody:** Vhodné pre precvičovanie PL/SQL a prípravu na pohovory.
- 🌐 [sqlfiddle.com](https://sqlfiddle.com/oracle-plsql/online-compiler)

---

## ✅ Odporúčania

- **Začiatočníci:** Začnite s [Oracle Live SQL](https://livesql.oracle.com) alebo [OneCompiler](https://onecompiler.com/oracle) pre rýchle učenie.
- **Pokročilí používatelia:** Vytvorte si účet na [Oracle Cloud Free Tier](https://www.oracle.com/cloud/free) a spustite vlastnú autonómnu databázu.

---

<a name="oracle-zdroje-knihy"></a>
## 📚 Zdroje a Knihy k Oracle databázam

Tu je výber top kníh a online zdrojov na štúdium Oracle databáz, rozdelený na anglické a české/jazykovo blízke zdroje. Zahŕňajú oficiálne príručky, populárne knihy aj online kurzy a dokumentáciu.

---

### 📘 Top knihy – Anglicky

| Názov | Autor | Popis |
|-------|-------|-------|
| **Oracle Database 12c: The Complete Reference** | Bob Bryla, Kevin Loney | Obsiahla kniha pre administráciu a vývoj v Oracle 12c. |
| **Oracle PL/SQL Programming** | Steven Feuerstein, Bill Pribyl | Kultová kniha pre vývoj v PL/SQL. Detailne pokrýva syntax, optimalizáciu aj najlepšie praktiky. |
| **Oracle Essentials: Oracle Database 12c** | Rick Greenwald, Robert Stackowiak | Úvod do architektúry a komponentov Oracle databázy. |
| **Expert Oracle Database Architecture** | Thomas Kyte | Pokročilé princípy fungovania databázy pod kapotou. |
| **Pro Oracle SQL** | Karen Morton et al. | Detailný pohľad na SQL optimalizáciu a výkonnostné techniky. |
| **Oracle Performance Survival Guide** | Guy Harrison | Nástroje a stratégie pre ladenie výkonu. |
| **Oracle Database 19c PL/SQL Programming** | Michael McLaughlin | Praktické príklady a pokrytie verzie 19c. |
| **Beginning Oracle SQL for Oracle Database 18c** | Ben Brumm | Moderný a prístupný úvod do SQL pre Oracle. |
| **Oracle SQL Tuning with Oracle SQLTXPLAIN** | Stelios Charalambides | Návod na používanie nástroja SQLTXPLAIN pre SQL tuning. |

---

### 📙 Top knihy a príručky – Česky a Slovensky

| Názov | Autor | Popis |
|-------|-------|-------|
| **Oracle – Učebnice administrátora databáze** | Pavel Švec | Komplexný český sprievodca pre správcov Oracle DB. |
| **Oracle – Programování v PL/SQL** | Petr Tůma | Praktická príručka pre vývojárov v PL/SQL (vhodné pre výuku). |
| **Oracle – Průvodce administrací databáze** | Milan Lipovský | Kniha s príkladmi inštalácie, správy používateľov, bezpečnosti. |
| **Oracle – Úvod do práce s databázemi** | David Teplý | Pre začiatočníkov – vytváranie tabuliek, dotazy, základná správa. |
| **Oracle – Cvičebnice pro začátečníky** | kolektív autorov | Obsahuje úlohy a cvičenia z databáz, SQL a PL/SQL. |

> 🧠 **Poznámka:** české a slovenské tituly sú často staršie (verzie 10g, 11g), ale výborne vysvetľujú základy a princípy.

---

### 🌐 Oficiálna dokumentácia a online zdroje

| Názov | Popis | Odkaz |
|-------|-------|-------|
| **Oracle Database Documentation** | Kompletná oficiálna dokumentácia k verziám (vrátane 23c) | [docs.oracle.com](https://docs.oracle.com/en/database/) |
| **Oracle Live SQL** | Online prostredie + vzorové skripty | [livesql.oracle.com](https://livesql.oracle.com) |
| **Oracle Learning Library (OLL)** | Bezplatné kurzy a príručky od Oracle | [oracle.com/oll](https://apex.oracle.com/pls/apex/f?p=44785:1:0:::::) |
| **Oracle Dev Gym** | Cvičenia, výzvy, PL/SQL a SQL trénovanie | [devgym.oracle.com](https://devgym.oracle.com) |
| **Oracle Blogs** | Technické články od Oracle tímu | [blogs.oracle.com](https://blogs.oracle.com/database/) |
| **Oracle Academy** | Vzdelávacia platforma pre školy a študentov | [academy.oracle.com](https://academy.oracle.com) |

---

