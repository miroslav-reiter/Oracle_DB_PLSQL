# â˜ï¸ Online kurzy Oracle DB a PL/SQL
MateriÃ¡ly k online kurzom Oracle databÃ¡zy a PL/SQL s (Oracle Database Express Edition)

### A1 [ğŸ¯ Zoznam zÃ¡kladnÃ½ch Oracle SQL prÃ­kazov s vysvetleniami](#zoznam-zakladnych-oracle-prikazov)
### A2 [ğŸ” Zoznam DBA prÃ­kazov Oracle - PouÅ¾Ã­vatelia a PrÃ¡va](#zoznam-dba-prikazov-pouzivatelia)
### A3 [ğŸ“¥ InÅ¡talÃ¡cia Oracle DB XE a SQL Developer](#instalacia-oracle)
### A4 [ğŸ§± Oracle databÃ¡zovÃ© objekty](#oracle-objekty)

<a name="zoznam-zakladnych-oracle-prikazov"></a>
## ğŸ¯ Zoznam zÃ¡kladnÃ½ch Oracle prÃ­kazov s vysvetleniami

**1. ğŸ—ï¸ CREATE TABLE** â€“ Vytvorenie tabuÄ¾ky

```sql
CREATE TABLE student (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    meno VARCHAR2(100),
    vek NUMBER
);
```

Tento prÃ­kaz vytvorÃ­ tabuÄ¾ku `student` so stÄºpcami `id`, `meno` a `vek`.

---

**2. âœï¸ INSERT INTO** â€“ VloÅ¾enie dÃ¡t

```sql
INSERT INTO student (meno, vek) VALUES ('Anna', 21);
```

Tento prÃ­kaz vloÅ¾Ã­ novÃ½ zÃ¡znam do tabuÄ¾ky `student` s menom `Anna` a vekom `21`.

---

**3. ğŸ” SELECT** â€“ VÃ½ber Ãºdajov

```sql
SELECT * FROM student;
```

Tento prÃ­kaz zobrazÃ­ vÅ¡etky Ãºdaje z tabuÄ¾ky `student`.

---

**4. âœ’ï¸ UPDATE** â€“ AktualizÃ¡cia Ãºdajov

```sql
UPDATE student SET vek = 22 WHERE meno = 'Anna';
```

Tento prÃ­kaz aktualizuje vek Å¡tudentky s menom `Anna` na hodnotu `22`.

---

**5. âŒ DELETE** â€“ OdstrÃ¡nenie Ãºdajov

```sql
DELETE FROM student WHERE meno = 'Anna';
```

Tento prÃ­kaz odstrÃ¡ni riadok z tabuÄ¾ky `student`, kde meno je `Anna`.

---

**6. ğŸ§® AgregaÄnÃ© funkcie** â€“ SUM, AVG, COUNT, MIN, MAX

```sql
SELECT COUNT(*) FROM student;
```

Tento prÃ­kaz spoÄÃ­ta poÄet riadkov v tabuÄ¾ke `student`.

---

**7. ğŸ“Š GROUP BY a HAVING**

```sql
SELECT vek, COUNT(*) FROM student GROUP BY vek HAVING COUNT(*) > 1;
```

Tento prÃ­kaz zoskupÃ­ Å¡tudentov podÄ¾a veku a zobrazÃ­ len tie skupiny, ktorÃ© sa vyskytujÃº viac ako raz.

---

**8. ğŸ”— JOIN**

```sql
SELECT s.meno, k.nazov 
FROM student s 
JOIN kurz k ON s.kurz_id = k.id;
```

Tento prÃ­kaz spojÃ­ tabuÄ¾ky `student` a `kurz` na zÃ¡klade `kurz_id` a zobrazÃ­ zodpovedajÃºce Ãºdaje.

---

<a name="zoznam-dba-prikazov-pouzivatelia"></a>
## ğŸ” Zoznam DBA prÃ­kazov Oracle â€“ PouÅ¾Ã­vatelia a PrÃ¡va

**1. ğŸ‘¤ CREATE USER**

```sql
CREATE USER test_user IDENTIFIED BY silneheslo;
```

Tento prÃ­kaz vytvorÃ­ novÃ©ho pouÅ¾Ã­vateÄ¾a `test_user` s heslom `silneheslo`.

---

**2. ğŸ”‘ GRANT PRIVILEGES**

```sql
GRANT CONNECT, RESOURCE TO test_user;
```

Tento prÃ­kaz pridelÃ­ pouÅ¾Ã­vateÄ¾ovi `test_user` zÃ¡kladnÃ© oprÃ¡vnenia na pripojenie a prÃ¡cu s databÃ¡zou.

---

**3. ğŸš« REVOKE PRIVILEGES**

```sql
REVOKE RESOURCE FROM test_user;
```

Tento prÃ­kaz odoberie prÃ¡vo `RESOURCE` pouÅ¾Ã­vateÄ¾ovi `test_user`.

---

**4. ğŸ§¾ CREATE ROLE a GRANT**

```sql
CREATE ROLE analytik;
GRANT SELECT ON student TO analytik;
GRANT analytik TO test_user;
```

Tento prÃ­kaz vytvorÃ­ rolu `analytik`, pridelÃ­ jej prÃ¡va na tabuÄ¾ku `student` a priradÃ­ rolu pouÅ¾Ã­vateÄ¾ovi `test_user`.

---

**5. ğŸ—‘ï¸ DROP USER**

```sql
DROP USER test_user CASCADE;
```

Tento prÃ­kaz natrvalo odstrÃ¡ni pouÅ¾Ã­vateÄ¾a `test_user` a vÅ¡etky jeho objekty.

---

<a name="instalacia-oracle"></a>
## ğŸ“¥ InÅ¡talÃ¡cia Oracle XE a SQL Developer

### ğŸ§¾ Verzie a licencie

- **Oracle Database Express Edition (XE)** â€“ bezplatnÃ¡ verzia databÃ¡zy, obmedzenÃ¡ na 2 CPU, 2 GB RAM a 12 GB dÃ¡t.
- **Licencia:** Oracle XE je vhodnÃ¡ pre vÃ½uÄbu, vÃ½voj a malÃ© aplikÃ¡cie. Je dostupnÃ¡ bezplatne bez potreby registrÃ¡cie.
- Oracle Database XE je ideÃ¡lnym nÃ¡strojom na vÃ½uÄbu SQL a testovanie aplikÃ¡ciÃ­ â€“ zdarma, legÃ¡lne a Ä¾ahko nasaditeÄ¾nÃ¡.

**1. Stiahnutie Oracle XE:**

- [Oracle Database XE Download](https://www.oracle.com/database/technologies/xe-downloads.html)
- [Free Oracle Database for Everyone](https://www.oracle.com/database/technologies/appdev/xe.html)

**2. InÅ¡talÃ¡cia SQL Developer:**

- [SQL Developer Download](https://www.oracle.com/tools/downloads/sqldev-downloads.html)

**3. Pripojenie k databÃ¡ze:**

- **Hostname:** `localhost`
- **Port:** `1521`
- **SID/Service name:** `XEPDB1` (pluggable databÃ¡za) alebo `xe`
- **Username:** `system` alebo vlastnÃ½ pouÅ¾Ã­vateÄ¾
- **Password:** heslo zvolenÃ© pri inÅ¡talÃ¡cii

### ğŸ’» InÅ¡talÃ¡cia na **Windows**

1. **Stiahnutie inÅ¡talÃ¡tora**
   - NavÅ¡tÃ­vte [Oracle XE Downloads](https://www.oracle.com/database/technologies/xe-downloads.html)
   - Stiahnite: *Oracle Database 21c Express Edition for Windows x64*

2. **InÅ¡talÃ¡cia databÃ¡zy**
   - Spustite inÅ¡talÃ¡tor ako administrÃ¡tor
   - PotvrÄte licenÄnÃ© podmienky
   - Zadajte heslo pre pouÅ¾Ã­vateÄ¾a `SYS`, `SYSTEM`
   - PoÄkajte na dokonÄenie inÅ¡talÃ¡cie
  
![2025-05-19 21_22_35-Oracle Database 21c Express Edition](https://github.com/user-attachments/assets/e41a243a-7328-475d-92e3-3e3c1ca85819)
![2025-05-19 21_23_05-Oracle Database 21c Express Edition](https://github.com/user-attachments/assets/c65b3dbd-f217-4df6-be27-f98f4b9abeb7)
![2025-05-19 21_23_19-Oracle Database 21c Express Edition](https://github.com/user-attachments/assets/69a969b2-cc8f-49f1-86cf-386509684646)


3. **Overenie inÅ¡talÃ¡cie**
   - Otvorte â€Startâ€œ â†’ â€Run SQL Command Lineâ€œ
   - PrihlÃ¡ste sa ako SYSTEM:
     ```sql
     CONNECT system
     ```
   - SkÃºste jednoduchÃ½ dopyt:
     ```sql
     SELECT 'OK' FROM dual;
     ```

4. **InÅ¡talÃ¡cia SQL Developer**
   - Stiahnite z [SQL Developer Download](https://www.oracle.com/tools/downloads/sqldev-downloads.html)
   - RozbaÄ¾te ZIP sÃºbor a spustite `sqldeveloper.exe`
   - PrihlÃ¡ste sa pomocou:
     - Username: `system`
     - Password: `vaÅ¡e heslo`
     - Hostname: `localhost`
     - Port: `1521`
     - Service Name: `XEPDB1`

**ğŸ“ Destination Folder** `C:\app\miros\product\21c\`  
â¡ï¸ Toto je hlavnÃ½ cieÄ¾ovÃ½ adresÃ¡r, kam sa nainÅ¡taluje celÃ½ Oracle produkt. Obsahuje vÅ¡etky sÃºbory databÃ¡zy, inÅ¡talaÄnÃ© skripty, kniÅ¾nice a pomocnÃ© nÃ¡stroje.

**ğŸ“ Oracle Home** `C:\app\miros\product\21c\dbhomeXE\`
â¡ï¸ "Oracle Home" predstavuje koreÅˆovÃ½ adresÃ¡r pre tÃºto konkrÃ©tnu inÅ¡tanciu databÃ¡zy. Obsahuje binÃ¡rky, konfiguraÄnÃ© sÃºbory, skripty, SQL*Plus, listener, sluÅ¾by databÃ¡zy atÄ.
â¡ï¸ KaÅ¾dÃ¡ inÅ¡tancia databÃ¡zy mÃ¡ svoj vlastnÃ½ Oracle Home.

**ğŸ“ Oracle Base** `C:\app\miros\product\21c\`  
â¡ï¸ "Oracle Base" je nadradenÃ½ adresÃ¡r pre vÅ¡etky Oracle produkty. ZvyÄajne v Åˆom bÃ½vajÃº:
- Logy (napr. diag/)
- Nastavenia vÅ¡etkÃ½ch databÃ¡z
- SpoloÄnÃ© komponenty zdieÄ¾anÃ© medzi viacerÃ½mi Oracle Home

---

### ğŸ§ InÅ¡talÃ¡cia na **Linux / Ubuntu**

1. **Stiahnutie balÃ­ka**
   - NavÅ¡tÃ­vte [Oracle XE Downloads](https://www.oracle.com/database/technologies/xe-downloads.html)
   - Stiahnite: *Oracle Database 21c Express Edition for Linux x64 (RPM)*

2. **Konverzia RPM na DEB**
   - InÅ¡talujte potrebnÃ© nÃ¡stroje:
     ```bash
     sudo apt update
     sudo apt install alien libaio1
     ```
   - Konvertujte balÃ­k:
     ```bash
     sudo alien -d oracle-database-xe-21c-1.0-1.x86_64.rpm
     ```

3. **InÅ¡talÃ¡cia Oracle XE**
   - Spustite inÅ¡talÃ¡ciu:
     ```bash
     sudo dpkg -i oracle-database-xe-21c_1.0-2_amd64.deb
     ```

4. **InicializÃ¡cia databÃ¡zy**
   - Spustite konfiguraÄnÃ½ skript:
     ```bash
     sudo /etc/init.d/oracle-xe-21c configure
     ```
   - Zadajte poÅ¾adovanÃ© porty a heslo pre SYS/SYSTEM

5. **InÅ¡talÃ¡cia SQL Developer (voliteÄ¾ne)**
   - Stiahnite a rozbaÄ¾te ZIP balÃ­k z [oficiÃ¡lnej strÃ¡nky](https://www.oracle.com/tools/downloads/sqldev-downloads.html)
   - Spustite:
     ```bash
     ./sqldeveloper/sqldeveloper.sh
     ```

---
<a name="overenie-instalacie"></a>
## â— Overenie a rieÅ¡enie problÃ©mov s inÅ¡talÃ¡ciou Oracle DB XE

Ak sa poÄas inÅ¡talÃ¡cie objavÃ­ hlÃ¡senie:

> **"The wizard was interrupted before Oracle Database 21c Express Edition could be completely installed."**

znamenÃ¡ to, Å¾e **inÅ¡talÃ¡cia zlyhala** a databÃ¡za **nebola nainÅ¡talovanÃ¡**.

![2025-05-19 21_28_01-Oracle Database 21c Express Edition](https://github.com/user-attachments/assets/2adfee44-3d05-48c9-aac3-a3fc2e24a989)

---

### âœ… Ako zistiÅ¥, Äi je Oracle DB XE nainÅ¡talovanÃ¡

**1. SkontrolovaÅ¥ sluÅ¾by vo Windows**
- Otvorte `services.msc`
- Skontrolujte, Äi existujÃº sluÅ¾by:
  - `OracleXETNSListener`
  - `OracleServiceXE`
- Ak chÃ½bajÃº, databÃ¡za sa nenainÅ¡talovala

**2. SkontrolovaÅ¥ prieÄinok inÅ¡talÃ¡cie**
- Skontrolujte adresÃ¡r:
  ```
  C:\app\miros\product\21c\dbhomeXE
  ```
- Skontrolujte, Äi existujÃº sÃºbory ako:
  - `bin\sqlplus.exe`
  - `network\admin\listener.ora`

**3. SpustiÅ¥ SQL Command Line**
```cmd
sqlplus /nolog
```
- Ak prÃ­kaz nefunguje, inÅ¡talÃ¡cia neprebehla alebo nie je v PATH

---

### ğŸ›  OdstrÃ¡nenie zvyÅ¡kov po neÃºspeÅ¡nej inÅ¡talÃ¡cii

1. VymaÅ¾ tieto prieÄinky (ak existujÃº):
   - `C:\app\miros`
   - `C:\Program Files\Oracle`
   - `C:\ProgramData\Oracle`

2. Spusti `regedit` a vymaÅ¾ (opatrne):
   - `HKEY_LOCAL_MACHINE\SOFTWARE\ORACLE`
   - `HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Oracle...`

3. ReÅ¡tartuj poÄÃ­taÄ

---

### ğŸ” Spustenie inÅ¡talÃ¡cie znova

- SpusÅ¥ inÅ¡talÃ¡tor ako **sprÃ¡vca**
- Vyber jednoduchÃº cestu, napr.:
  ```
  C:\oracle\product\21c\
  ```
- Uisti sa, Å¾e:
  - nemÃ¡Å¡ spustenÃ½ antivÃ­rus
  - mÃ¡Å¡ aspoÅˆ 10 GB voÄ¾nÃ©ho miesta
  - systÃ©m mÃ¡ nainÅ¡talovanÃ½ .NET a Visual C++ Redistributable

---

### ğŸ§ª OdporÃºÄanÃ½ overovacÃ­ test po inÅ¡talÃ¡cii

```sql
CONNECT system
SELECT 'Oracle funguje!' AS status FROM dual;
```

Tento prÃ­kaz potvrdÃ­ ÃºspeÅ¡nÃº inÅ¡talÃ¡ciu a funkÄnosÅ¥ SQL*Plus alebo SQL Developer.
---

<a name="oracle-objekty"></a>
## ğŸ§± Oracle databÃ¡zovÃ© objekty

PrehÄ¾ad zÃ¡kladnÃ½ch databÃ¡zovÃ½ch objektov v Oracle:

**1. ğŸ“‹ TabuÄ¾ka (TABLE)** â€“ UkladÃ¡ Å¡truktÃºrovanÃ© Ãºdaje v riadkoch a stÄºpcoch.

```sql
CREATE TABLE zamestnanci (
    id NUMBER PRIMARY KEY,
    meno VARCHAR2(100),
    pozicia VARCHAR2(50)
);
```

---

**2. ğŸ‘ï¸â€ğŸ—¨ï¸ PohÄ¾ad (VIEW)** â€“ VirtuÃ¡lna tabuÄ¾ka vytvorenÃ¡ z vÃ½sledku SELECT dopytu.

```sql
CREATE VIEW aktivni_zamestnanci AS
SELECT * FROM zamestnanci WHERE pozicia IS NOT NULL;
```

---

**3. ğŸ§  Funkcia (FUNCTION)** â€“ UloÅ¾enÃ¡ procedÃºra, ktorÃ¡ vracia hodnotu.

```sql
CREATE OR REPLACE FUNCTION vrat_bonus(p_plat NUMBER) RETURN NUMBER IS
BEGIN
    RETURN p_plat * 0.10;
END;
```

---

**4. ğŸ” ProcedÃºra (PROCEDURE)** â€“ UloÅ¾enÃ¡ procedÃºra, ktorÃ¡ nemusÃ­ vracaÅ¥ hodnotu.

```sql
CREATE OR REPLACE PROCEDURE zvys_plat(p_id NUMBER, p_bonus NUMBER) IS
BEGIN
    UPDATE zamestnanci SET plat = plat + p_bonus WHERE id = p_id;
END;
```

---

**5. ğŸ“¦ BalÃ­k (PACKAGE)** â€“ Kolekcia prÃ­buznÃ½ch procedÃºr a funkciÃ­.

```sql
CREATE OR REPLACE PACKAGE mzdy_pkg AS
  PROCEDURE vypocitaj_odmenu(p_id NUMBER);
  FUNCTION vrat_priplatok(p_vek NUMBER) RETURN NUMBER;
END mzdy_pkg;
```

---

**6. ğŸ› ï¸ Trigger (TRIGGER)** â€“ AutomatickÃ¡ reakcia na udalosÅ¥ v databÃ¡ze.

```sql
CREATE OR REPLACE TRIGGER kontrola_platu
BEFORE INSERT OR UPDATE ON zamestnanci
FOR EACH ROW
BEGIN
    IF :NEW.plat < 800 THEN
        RAISE_APPLICATION_ERROR(-20001, 'Plat je prÃ­liÅ¡ nÃ­zky.');
    END IF;
END;
```

---

**7. ğŸ“š Sekvencia (SEQUENCE)** â€“ Generuje ÄÃ­selnÃ© hodnoty, Äasto pre ID.

```sql
CREATE SEQUENCE seq_zamestnanci START WITH 1 INCREMENT BY 1;
```

---

**8. ğŸ—‚ï¸ Index (INDEX)** â€“ ZrÃ½chÄ¾uje vyhÄ¾adÃ¡vanie v tabuÄ¾ke.

```sql
CREATE INDEX idx_meno ON zamestnanci(meno);
```

---

**9. ğŸ” Synonymum (SYNONYM)** â€“ Alias na databÃ¡zovÃ½ objekt (napr. tabuÄ¾ku).

```sql
CREATE SYNONYM zam FOR zamestnanci;
```

---

**10. ğŸ§± Typ (TYPE)** â€“ Definuje vlastnÃº dÃ¡tovÃº Å¡truktÃºru.

```sql
CREATE OR REPLACE TYPE typ_adresa AS OBJECT (
  ulica VARCHAR2(50),
  mesto VARCHAR2(50),
  psc NUMBER
);
```

---

**11. ğŸ—ƒï¸ MaterializovanÃ½ pohÄ¾ad (MATERIALIZED VIEW)** â€“ Fyzicky uloÅ¾enÃ½ vÃ½sledok dopytu.

```sql
CREATE MATERIALIZED VIEW mzda_mv AS
SELECT id, meno, plat FROM zamestnanci;
```
